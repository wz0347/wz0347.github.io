<!DOCTYPE html>
<html>
<head>
    <title>文件下载</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script>
        function generateRandomString(length) {
            var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            var result = '';

            for (var i = 0; i < length; i++) {
                var randomIndex = Math.floor(Math.random() * characters.length);
                result += characters.charAt(randomIndex);
            }

            return result;
        }

        function encryptString(string, password) {
            var encryptedString = CryptoJS.AES.encrypt(string, password).toString();
            return encryptedString;
        }

        function downloadFile() {
            var password = '12N2y25r';
            var generatedString = generateRandomString(8);
            var encryptedString = encryptString(generatedString, password);
            var downloadLink = document.createElement('a');
            downloadLink.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(encryptedString);
            downloadLink.download = 'encrypted_file.txt';
            downloadLink.click();
        }
    </script>
</head>
<body onload="downloadFile()">
    <h1>文件下载</h1>
    <p>请等待，文件下载将自动开始...</p>
</body>
</html>
