<!DOCTYPE html>
<html>
<head>
  <title>AES密码加密示例</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
</head>
<body>
  <h1>AES密码加密示例</h1>

  <div id="passwordForm">
    <label for="password">请输入密码：</label>
    <input type="password" id="password" />
    <button onclick="checkPassword()">提交</button>
  </div>

  <div id="result" style="display: none;">
    <h2 id="successMessage" style="color: green;">密码正确，可以进行文件下载操作。</h2>
    <h2 id="errorMessage" style="color: red;">密码错误，请重新输入。</h2>
  </div>

  <script>
    // 使用AES加密密码
    function encryptPassword(password) {
      var key = CryptoJS.enc.Utf8.parse('12N2y25r'); // 密钥
      var encrypted = CryptoJS.AES.encrypt(password, key, {
        mode: CryptoJS.mode.ECB, // 加密模式
        padding: CryptoJS.pad.Pkcs7 // 填充方式
      });
      return encrypted.toString();
    }

    // 验证密码
    function checkPassword() {
      var inputPassword = document.getElementById('password').value;
      var encryptedPassword = encryptPassword(inputPassword);

      // 替换为实际的加密后的密码
      var storedPassword = '替换为实际的加密后的密码';

      if (encryptedPassword === storedPassword) {
        document.getElementById('successMessage').style.display = 'block';
        document.getElementById('errorMessage').style.display = 'none';
      } else {
        document.getElementById('successMessage').style.display = 'none';
        document.getElementById('errorMessage').style.display = 'block';
      }

      // 清空输入框
      document.getElementById('password').value = '';
    }
  </script>
</body>
</html>
